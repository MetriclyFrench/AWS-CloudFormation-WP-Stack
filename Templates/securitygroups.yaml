---
AWSTemplateFormatVersion: 2010-09-09

Description: Create VPC Security Groups.

Metadata:
  AWS::CloudFormation::Interface:
    ParameterGroups:
      - Label:
          default: AWS Parameters
        Parameters:
          - SshAccessCidr
          - Vpc
        ParameterLabels:
          SshAccessCidr:
            default: SSH Access From
          Vpc:
            default: Vpc Id

Parameters:
  SshAccessCidr:
    AllowedPattern: ^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/([0-9]|[1-2][0-9]|3[0-2]))$
    Description: The CIDR IP range that is permitted to SSH to the bastion instance. Note - a value of 0.0.0.0/0 opens up SSH access to every single IP Address in the WORLD.
    Type: String
    Default: 0.0.0.0/0
  Vpc:
    AllowedPattern: ^(vpc-)([a-z0-9]{8})$
    Description: The Vpc Id of an exisiting Vpc.
    Type: AWS::EC2::VPC::Id
  
  Resources:

    BastionSecurityGroup:
      Type: AWS::EC2::SecurityGroup
      Properties:
        GroupDescription: